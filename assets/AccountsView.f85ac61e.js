import{f as B,C as D,d as F,r as u,g as I,a,c as n,b as e,F as f,h as g,u as s,i as l,w as i,t as c,j as L,k as R,l as v,v as W,m as w}from"./index.3990f57e.js";import{u as $}from"./settings.b14b5b53.js";import{u as z,f as E,N as G,o as S,_ as H,U as O,r as P,a as q}from"./transition.7378379b.js";const J=()=>{const y=B(D),h=y.all(),d=y.withAll().get();return{categories:h,categoriesWithAccountTypes:d}},K=e("h1",null,"Accounts Details",-1),Q={class:"text-gray-600 body-font"},X={class:"container px-3 py-12 mx-auto"},Y={class:"flex flex-wrap gap-2"},Z={class:"card-body flex flex-row justify-between"},ee={class:"text-gray-500 card-title"},te={class:"text-gray-500 text-xs tracking-widest title-font mb-1"},se={class:"text-gray-900 title-font text-lg font-medium"},oe={class:""},ae={class:"card-actions flex flex-col"},ne=e("button",{class:"btn btn-primary btn-sm"},"+",-1),le=["onClick"],ce=e("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),ie={class:"fixed inset-0 overflow-y-auto"},re={class:"flex min-h-full sm:items-center items-end justify-center p-4 text-center"},ue=e("div",{class:"my-2"},[e("p",{class:"text-sm text-gray-500"},"Accounts are of 3 types")],-1),de=["onSubmit"],pe=e("option",{value:""},"Select Category",-1),me=["value"],_e=e("option",{value:""},"Account Type",-1),fe=["value"],ve=e("option",{value:""},"Parent Account",-1),ye=e("option",null,"Han Solo",-1),he=e("option",null,"Greedo",-1),be=[ve,ye,he],xe=e("button",{type:"submit",class:"btn btn-primary"},"Submit",-1),ge={class:"fixed bottom-10 right-10"},Se=F({__name:"AccountsView",setup(y){const{categories:h}=J(),{settings:d}=$(),{accountsWithType:N,createAccount:T,deleteAccount:V}=z(),p=u(""),r=u(""),m=u(""),_=u(""),U=I(()=>d.accounts.types.filter(A=>A.categoryId===p.value)),b=u(!1);function M(){T({name:r.value,accountTypeCode:m.value,parentId:_.value,description:"",placeholder:!1}),q({message:`New Account ${r.value} Created`,type:"success"}),p.value="",r.value="",m.value="",_.value="",x()}function x(){b.value=!1}function j(){b.value=!0}return(A,o)=>(a(),n(f,null,[K,e("section",Q,[e("div",X,[e("div",Y,[(a(!0),n(f,null,g(s(N),t=>{var C,k;return a(),n("div",{key:t.code,class:"card bg-slate-200 shadow-md w-full"},[e("div",Z,[e("span",null,[e("h2",ee,c(t.name),1),e("h3",te,c((C=t.accountType)==null?void 0:C.name)+" - "+c((k=t.accountType)==null?void 0:k.categoryId),1),e("h2",se,c(t.parent),1),e("p",oe,c(s(d).currency.symbol),1)]),e("div",ae,[ne,e("button",{onClick:we=>s(V)(t.id),class:"btn btn-error btn-sm"}," - ",8,le)])])])}),128))])])]),l(s(E),{appear:"",show:b.value,as:"template"},{default:i(()=>[l(s(G),{as:"div",onClose:x,class:"relative z-10"},{default:i(()=>[l(s(S),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:i(()=>[ce]),_:1}),e("div",ie,[e("div",re,[l(s(S),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:i(()=>[l(s(H),{class:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:i(()=>[l(s(O),{as:"h3",class:"text-lg font-medium leading-6 text-gray-900"},{default:i(()=>[L(" Add Account ")]),_:1}),ue,e("form",{class:"flex flex-col gap-5",onSubmit:R(M,["prevent"])},[v(e("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=t=>r.value=t),placeholder:"Account Name",class:"input input-bordered"},null,512),[[W,r.value]]),v(e("select",{"onUpdate:modelValue":o[1]||(o[1]=t=>p.value=t),class:"select select-bordered"},[pe,(a(!0),n(f,null,g(s(h),t=>(a(),n("option",{key:t.code,value:t.code},c(t.name),9,me))),128))],512),[[w,p.value]]),v(e("select",{"onUpdate:modelValue":o[2]||(o[2]=t=>m.value=t),className:"select select-bordered"},[_e,(a(!0),n(f,null,g(s(U),t=>(a(),n("option",{key:t.code,value:t.code},c(t.name),9,fe))),128))],512),[[w,m.value]]),v(e("select",{"onUpdate:modelValue":o[3]||(o[3]=t=>_.value=t),className:"select select-bordered "},be,512),[[w,_.value]]),e("div",{class:"flex justify-between"},[e("button",{onClick:x,type:"button",class:"btn btn-danger"}," Cancel "),xe])],40,de)]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]),e("div",ge,[e("button",{onClick:j,class:"btn btn-circle"},[l(s(P))])])],64))}});export{Se as default};
